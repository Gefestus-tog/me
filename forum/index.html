<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminal Forum</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="posts" id="postsContainer"></div>
    </div>

    <script>
        const posts = [
            {
                author: "gefest",
                title: "...",
                content: "интересный вопрос",
                date: new Date('2025-11-03T20:56:00'),
                attachment: {
                    name: "djid.png",
                    size: "232 B",
                    preview: "assets/djid.png"
                }
            },{
                author: "gefest",
                title: "Maybe",
                content: "может быть",
                date: new Date('2025-11-04T20:43:00'),
                attachment: {
                    name: "sut.png",
                    size: "6.7 KB",
                    preview: "assets/sut.png"
                }
            },{
                author: "gefest",
                title: "Success",
                content: "успех",
                date: new Date('2025-11-09T23:08:00'),
                attachment: {
                    name: "idk.png",
                    size: "7.8 KB",
                    preview: "assets/idk.png"
                }
            },{
                author: "gefest",
                title: "love",
                content: "I want someone to understand this",
                date: new Date('2025-11-26T23:10:00'),
                attachment: {
                    name: "love.png",
                    size: "12.0 KB",
                    preview: "assets/love.png"
                }
            },{
                author: "gefest",
                title: "-||-",
                content: "freedom?",
                date: new Date('2025-11-29T11:18:00'),
                attachment: {
                    name: "another_liberty.png",
                    size: "10.9 KB",
                    preview: "assets/another_liberty.png"
                }
            },{
                author: "broken",
                title: "Real??",
                content: "People??",
                date: new Date('2025-12-20T00:00:02'),
                attachment: {
                    name: "TheHellheim.png",
                    size: "6.4 KB",
                    preview: "assets/TheHellheim.png"
                }
            },{
                author: "gefest",
                title: "OK?",
                content: "good night?",
                date: new Date('2025-12-28T00:00:02'),
                attachment: {
                    name: "goodnight.png",
                    size: "6.2 KB",
                    preview: "assets/goodnight.png"
                }
            },
        ];

        let selectedFile = null;

        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            return `${year}-${month}-${day} ${hours}:${minutes}`;
        }

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    selectedFile = {
                        name: file.name,
                        size: (file.size / 1024).toFixed(1) + " KB",
                        preview: e.target.result
                    };
                    document.getElementById('fileName').textContent = file.name;
                };
                reader.readAsDataURL(file);
            }
        }

        function renderPosts() {
            const container = document.getElementById('postsContainer');
            container.innerHTML = '';

            posts.sort((a, b) => a.date - b.date).forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'post';
                postElement.innerHTML = `
                    <div class="post-header">
                        <span class="post-author">${post.author}</span>
                        <span class="post-date">${formatDate(post.date)}</span>
                    </div>
                    <div class="post-title">${post.title}</div>
                    <div class="post-content">${post.content}</div>
                    <div class="post-footer">
                        ${post.attachment ? `
                        <a href='${post.attachment.preview}' download='${post.attachment.name}'>
                        <div class="post-attachment">
                            <img src="${post.attachment.preview}" alt="${post.attachment.name}" class="attachment-preview" />
                            <span class="attachment-info">
                                <span class="attachment-name">${post.attachment.name}</span>
                                <span class="attachment-size">${post.attachment.size}</span>
                            </span>
                        </div></a>
                        ` : ''}
                    </div>
                `;
                container.appendChild(postElement);
            });
        }

        renderPosts();
    </script>
    
</body>
</html>